"use strict";var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(function(){var a=function(){function b(c){_classCallCheck(this,b),this.api=c.settings.api||"https://maps.googleapis.com/maps/api/js?key=AIzaSyCfx6YjInSCTM_jC2MvhQ-L2VUZW_umfmg",this.$element=c.$element,this.element=c.$element[0],this.settings=c.settings,this.labels=[],this.polygons=[],this.map,this._addAPI()}return _createClass(b,[{key:"_addAPI",value:function(){var d,e,f=this;e=document.createElement("script"),e.src=this.api,d=$(document).find("script[src*='gmap.min.js']")[0],d.appendChild(e),e.onload=function(){f._create()}}},{key:"_create",value:function(){var f=this,g=this.settings;if(g.height||(g.height=500),g.autoClose||(g.autoClose=!0),this.$element.height(g.height),g.map.mapType){var h=this._getMapType(g.map.mapType);h&&(g.map.mapTypeId=h)}g.map.center&&(g.map.center=this._wrapCoords(g.map.center)),this.map=new google.maps.Map(this.element,g.map),g.labels&&g.labels.forEach(function(j){var k,l;j.map=f.map,j.position={lat:j.position[0],lng:j.position[1]},k=new google.maps.Marker(j),l=new google.maps.InfoWindow({content:j.content}),j.openWindow&&l.open(f.map,k),k.addListener("click",function(){g.autoClose&&f._closeInfoWindows(),l.open(f.map,k)}),f.labels.push({marker:k,infoWindow:l})}),g.polygons&&g.polygons.forEach(function(j){var k;j.map=f.map,j.paths=f._wrapCoords(j.paths),k=new google.maps.Polygon(j),f.polygons.push(k)})}},{key:"_closeInfoWindows",value:function(){var d=this;this.labels.forEach(function(e){e.infoWindow.close(d.map,e.marker)})}},{key:"_getMapType",value:function(d){return"SATELLITE"===d?google.maps.MapTypeId.SATELLITE:"ROADMAP"===d?google.maps.MapTypeId.ROADMAP:"HYBRID"===d?google.maps.MapTypeId.HYBRID:"TERRAIN"==d&&google.maps.MapTypeId.TERRAIN}},{key:"_wrapCoords",value:function(d){var e;if(console.log(),3<d.length)for(var f in e=[],d)e.push({lat:d[f][0],lng:d[f][1]});else e={lat:d[0],lng:d[1]};return e}}]),b}();$.fn.gmap=function(b){this.each(function(){var c,d;c={settings:b,$element:$(this)},d=new a(c)})}})();